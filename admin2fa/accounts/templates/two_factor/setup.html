{% extends "base.html" %}
{% load i18n %}

{% block content %}
<div class="container mx-auto mt-20 max-w-md p-6 bg-white shadow rounded">
    <h2 class="text-xl font-bold mb-4">{% trans "Set up Two-Factor Authentication" %}</h2>

    <p class="mb-4">{% trans "Scan this QR code with your authenticator app." %}</p>

    {% if qr_code_url %}
        <div class="mb-4 text-center">
            <img src="{{ qr_code_url }}" alt="{% trans 'QR Code' %}" class="mx-auto"/>
        </div>
    {% endif %}

    <p class="mb-4">{% trans "Enter the code generated by your authenticator app." %}</p>

    <form method="post">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <div class="mb-4">
            {{ form.token.label_tag }}
            {{ form.token }}
            {{ form.token.errors }}
        </div>

        <button type="submit" class="bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700">
            {% trans "Verify" %}
        </button>
    </form>

    <div class="mt-4 text-sm text-gray-600">
        <p>{% trans "If you lose access to your authenticator app, use one of your backup tokens." %}</p>
        <a href="{% url 'two_factor:backup_tokens' %}" class="text-blue-600 hover:underline">{% trans "View backup tokens" %}</a>
    </div>
</div>
{% endblock %}
